<header class="site-header">
  <div class="container">
    <div class="header-content">
      {% if site.active_lang == site.default_lang %} {% assign lang_prefix = ''
      %} {% assign logo_file = 'logo.pl.png' %} {% else %} {% assign lang_prefix
      = '/' | append: site.active_lang %} {% assign logo_file = 'logo.en.png' %}
      {% endif %}

      <div class="site-logo">
        <img
          src="{{ '/assets/' | append: logo_file | relative_url }}"
          alt="{{ site.title }}" />
      </div>

      <div class="site-title">
        <a href="{{ lang_prefix }}/"
          >{{ site.data[site.active_lang].strings.site_title | default:
          site.title }}</a
        >
      </div>

      <div class="site-logo site-logo-right">
        <img src="{{ '/assets/kcir.pl.png' | relative_url }}" alt="KCiR" />
      </div>

      {% assign tnav = site.data[site.active_lang].strings.nav %}
      <nav class="site-nav">
        <input type="checkbox" id="nav-toggle" class="nav-toggle" />
        <label for="nav-toggle" class="nav-toggle-label">
          <span></span>
        </label>
        <ul class="nav-menu">
          <li>
            <a href="{{ lang_prefix }}/">{{ tnav.home | default: 'Home' }}</a>
          </li>
          <li>
            <a href="{{ lang_prefix }}/faculty/"
              >{{ tnav.faculty | default: 'Faculty' }}</a
            >
          </li>
          <li>
            <a href="{{ lang_prefix }}/research/"
              >{{ tnav.research | default: 'Research' }}</a
            >
          </li>
          <li>
            <a href="{{ lang_prefix }}/laboratories/"
              >{{ tnav.laboratories | default: 'Laboratories' }}</a
            >
          </li>
          <li>
            <a href="{{ lang_prefix }}/news/"
              >{{ tnav.news | default: 'News' }}</a
            >
          </li>
          <li>
            <a href="{{ lang_prefix }}/seminars/"
              >{{ tnav.seminars | default: 'Seminars' }}</a
            >
          </li>
        </ul>
      </nav>

      <div class="language-switcher">
        {% comment %} Compute PL/EN URLs for current page and prevent Polyglot
        from relativizing them {% endcomment %} {% assign current = page.url |
        default: '/' %} {% if current == '/' or current == '/en/' %} {% assign
        pl_url = '/' %} {% assign en_url = '/en/' %} {% elsif current contains
        '/en/' %} {% assign pl_url = current | replace_first: '/en/', '/' %} {%
        assign en_url = current %} {% else %} {% assign pl_url = current %} {%
        assign en_url = '/en' | append: current %} {% endif %}

        <a
          {%
          static_href
          %}href="{{ pl_url }}"
          {%
          endstatic_href
          %}
          class="lang-flag"
          title="PL">
          <svg width="20" height="14" viewBox="0 0 20 14">
            <rect width="20" height="7" fill="#fff" />
            <rect y="7" width="20" height="7" fill="#dc143c" />
          </svg>
        </a>
        <a
          {%
          static_href
          %}href="{{ en_url }}"
          {%
          endstatic_href
          %}
          class="lang-flag"
          title="EN">
          <!-- Flaga Wielkiej Brytanii -->
          <svg width="20" height="14" viewBox="0 0 20 14">
            <rect width="20" height="14" fill="#00247d" />
            <path d="M0,0 L20,14 M20,0 L0,14" stroke="#fff" stroke-width="2" />
            <path
              d="M0,0 L20,14 M20,0 L0,14"
              stroke="#cf142b"
              stroke-width="1" />
            <rect x="8" width="4" height="14" fill="#fff" />
            <rect y="5" width="20" height="4" fill="#fff" />
            <rect x="9" width="2" height="14" fill="#cf142b" />
            <rect y="6" width="20" height="2" fill="#cf142b" />
          </svg>
        </a>
      </div>
    </div>
  </div>
</header>
